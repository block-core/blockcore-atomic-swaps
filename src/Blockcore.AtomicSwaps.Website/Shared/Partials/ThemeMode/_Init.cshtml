@using Blockcore.AtomicSwaps.Website.ThemeBase.libs;

@inject ITheme Theme;

<!--begin::Theme mode setup on page load-->
<script>
    if (document.documentElement){
        const defaultThemeMode = "@Theme.getModeDefault()";
        const name = document.body.getAttribute("data-dex-name");
        let themeMode = localStorage.getItem("dex_" + ( name !== null ? name + "_" : "" ) + "theme_mode_value");
        
        if ( themeMode === null ) {
            if ( defaultThemeMode === "system" ) {
                themeMode = window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";
            } else { 
                themeMode = defaultThemeMode; 
            }
        } 
        document.documentElement.setAttribute("data-theme", themeMode);
    }
</script>
<!--end::Theme mode setup on page load-->